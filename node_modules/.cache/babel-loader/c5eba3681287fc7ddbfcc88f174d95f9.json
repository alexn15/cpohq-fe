{"ast":null,"code":"/**\n * @author [Alex Neo]\n * @email [alex.neo0115@gmail.com]\n * @create date 2022-01-12 18:08:03\n * @modify date 2022-01-12 18:08:03\n * @desc [create reducer]\n*/\nimport { combineReducers } from \"redux\";\nconst ADD_MENU_ITEMS = \"ADD_MENU_ITEMS\";\nconst INCREASE_COUNTER = \"INCR_COUNTER\";\nconst DECREASE_COUNTER = \"DEC_COUNTER\";\nconst initCounterInfo = {\n  id: 0,\n  data: 0\n};\nconst initState = {\n  todoMenu: [],\n  counterList: []\n};\n\nconst addMenuItemReducer = (state = initState, action) => {\n  switch (action.type) {\n    case ADD_MENU_ITEMS:\n      const tempTodo = state.todoMenu.map(list => list);\n      tempTodo.push(action.payload); //init data in for counter\n\n      const tempCount = state.counterList;\n      tempCount.push(initCounterInfo);\n      return {\n        todoMenu: tempTodo,\n        counterList: tempCount\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst counterReducer = (state = initState, action) => {\n  switch (action.type) {\n    case INCREASE_COUNTER:\n      const tempIncCount = state.counterList.map(list => list); //get current index\n\n      const i = tempIncCount.findIndex(el => el.id === action.payload.id); //update array if exist else add\n\n      if (i > -1) {\n        const j = tempIncCount[i].data + action.payload.data;\n        tempIncCount[i] = { ...tempIncCount[i],\n          data: j\n        };\n      } else {\n        tempIncCount.push(action.payload);\n      }\n\n      return {\n        counterList: tempIncCount\n      };\n\n    case DECREASE_COUNTER:\n      //copy array\n      const tempDecCount = state.counterList.map(list => list); //get current index\n\n      const x = tempDecCount.findIndex(el => el.id === action.payload.id); //update array if exist else add\n\n      if (x > -1) {\n        const y = tempDecCount[x].data - action.payload.data;\n        tempDecCount[x] = { ...tempDecCount[x],\n          data: y < 0 ? 0 : y\n        };\n      } else {\n        tempDecCount.push(action.payload);\n      }\n\n      return {\n        counterList: tempDecCount\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst reducer = combineReducers({\n  addMenuItemReducer,\n  counterReducer\n});\nexport default reducer;","map":{"version":3,"sources":["/Users/aneo/Desktop/cpohq/twine-interview-frontend-an/src/redux/reducer/index.js"],"names":["combineReducers","ADD_MENU_ITEMS","INCREASE_COUNTER","DECREASE_COUNTER","initCounterInfo","id","data","initState","todoMenu","counterList","addMenuItemReducer","state","action","type","tempTodo","map","list","push","payload","tempCount","counterReducer","tempIncCount","i","findIndex","el","j","tempDecCount","x","y","reducer"],"mappings":"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","sourcesContent":["/**\n * @author [Alex Neo]\n * @email [alex.neo0115@gmail.com]\n * @create date 2022-01-12 18:08:03\n * @modify date 2022-01-12 18:08:03\n * @desc [create reducer]\n*/\n\nimport { combineReducers } from \"redux\";\n\nconst ADD_MENU_ITEMS = \"ADD_MENU_ITEMS\";\nconst INCREASE_COUNTER = \"INCR_COUNTER\";\nconst DECREASE_COUNTER = \"DEC_COUNTER\";\n\n\nconst initCounterInfo = {\n    id: 0, \n    data: 0\n}\n\nconst initState = {\n    todoMenu: [],\n    counterList: []\n}\n\n\nconst addMenuItemReducer = (state = initState, action) => {\n    switch (action.type){\n        case ADD_MENU_ITEMS:\n            const tempTodo = state.todoMenu.map(list => list);\n            tempTodo.push(action.payload);\n            //init data in for counter\n            const tempCount= state.counterList;\n            tempCount.push(initCounterInfo);\n\n            return {\n                todoMenu: tempTodo,\n                counterList: tempCount\n            };\n        default:\n            return state;\n    }\n}\n\nconst counterReducer = (state = initState, action) => {\n    switch (action.type){\n        case INCREASE_COUNTER:\n            const tempIncCount = state.counterList.map(list => list);\n            //get current index\n            const i = tempIncCount.findIndex(el => el.id === action.payload.id);\n            //update array if exist else add\n            if (i > -1) {\n                const j = tempIncCount[i].data + action.payload.data\n                tempIncCount[i] = {...tempIncCount[i], data : j} \n            }else{\n                tempIncCount.push(action.payload);\n            } \n            return {\n                counterList: tempIncCount,\n            };\n        case DECREASE_COUNTER:\n                //copy array\n                const tempDecCount = state.counterList.map(list => list);\n                //get current index\n                const x = tempDecCount.findIndex(el => el.id === action.payload.id);\n                //update array if exist else add\n                if (x > -1) {\n                    const y = tempDecCount[x].data - action.payload.data\n                    tempDecCount[x] = {...tempDecCount[x], data : y < 0? 0: y} \n                }else{\n                    tempDecCount.push(action.payload);\n                } \n                return {\n                    counterList: tempDecCount,\n                };\n        default:\n            return state;\n    }\n}\n\nconst reducer = combineReducers({\n    addMenuItemReducer,\n    counterReducer\n})\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}