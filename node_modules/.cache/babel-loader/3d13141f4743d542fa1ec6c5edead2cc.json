{"ast":null,"code":"/**\n * @author [Alex Neo]\n * @email [alex.neo0115@gmail.com]\n * @create date 2022-01-12 18:08:03\n * @modify date 2022-01-12 18:08:03\n * @desc [create reducer]\n*/\nimport { actionTypes } from \"../action/index\";\nconst initState = {\n  todoMenu: [],\n  counterList: []\n};\n\nconst reducer = (state = initState, action) => {\n  const tempTodo = state.todoMenu.map(list => list);\n  const tempCount = state.counterList.map(list => list);\n\n  switch (action.type) {\n    case actionTypes.ADD_MENU_ITEMS:\n      tempTodo.push(action.payload);\n      tempCount.push({\n        data: 0\n      });\n      return {\n        todoMenu: tempTodo,\n        counterList: tempCount\n      };\n\n    case actionTypes.INCREASE_COUNTER:\n      //get current index\n      console.log(\"increase\", tempCount);\n      const i = tempCount.findIndex(el => el.id === action.payload); //update array if exist else add\n\n      if (i > -1) {\n        const j = tempCount[i].data + action.payload.data;\n        tempCount[i] = { ...tempCount[i],\n          data: j\n        };\n      } else {\n        tempCount.push(action.payload);\n      }\n\n      return {\n        todoMenu: tempTodo,\n        counterList: tempCount\n      };\n\n    case actionTypes.DECREASE_COUNTER:\n      //get current index\n      const x = tempCount.findIndex(el => el.id === action.payload.id); //update array if exist else add\n\n      if (x > -1) {\n        const y = tempCount[x].data - action.payload.data;\n        tempCount[x] = { ...tempCount[x],\n          data: y < 0 ? 0 : y\n        };\n      } else {\n        tempCount.push(action.payload);\n      }\n\n      return {\n        todoMenu: tempTodo,\n        counterList: tempCount\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/aneo/Desktop/cpohq/twine-interview-frontend-an/src/redux/reducer/index.js"],"names":["actionTypes","initState","todoMenu","counterList","reducer","state","action","tempTodo","map","list","tempCount","type","ADD_MENU_ITEMS","push","payload","data","INCREASE_COUNTER","console","log","i","findIndex","el","id","j","DECREASE_COUNTER","x","y"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,WAAT,QAA4B,iBAA5B;AAGA,MAAMC,SAAS,GAAG;AACdC,EAAAA,QAAQ,EAAE,EADI;AAEdC,EAAAA,WAAW,EAAE;AAFC,CAAlB;;AAMA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGJ,SAAT,EAAoBK,MAApB,KAA+B;AAC3C,QAAMC,QAAQ,GAAGF,KAAK,CAACH,QAAN,CAAeM,GAAf,CAAmBC,IAAI,IAAIA,IAA3B,CAAjB;AACA,QAAMC,SAAS,GAAGL,KAAK,CAACF,WAAN,CAAkBK,GAAlB,CAAsBC,IAAI,IAAIA,IAA9B,CAAlB;;AAEA,UAAQH,MAAM,CAACK,IAAf;AACI,SAAKX,WAAW,CAACY,cAAjB;AACIL,MAAAA,QAAQ,CAACM,IAAT,CAAcP,MAAM,CAACQ,OAArB;AACAJ,MAAAA,SAAS,CAACG,IAAV,CAAe;AAACE,QAAAA,IAAI,EAAE;AAAP,OAAf;AACA,aAAO;AACHb,QAAAA,QAAQ,EAAEK,QADP;AAEHJ,QAAAA,WAAW,EAAEO;AAFV,OAAP;;AAIJ,SAAKV,WAAW,CAACgB,gBAAjB;AACI;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBR,SAAxB;AACA,YAAMS,CAAC,GAAGT,SAAS,CAACU,SAAV,CAAoBC,EAAE,IAAIA,EAAE,CAACC,EAAH,KAAUhB,MAAM,CAACQ,OAA3C,CAAV,CAHJ,CAII;;AACA,UAAIK,CAAC,GAAG,CAAC,CAAT,EAAY;AACR,cAAMI,CAAC,GAAGb,SAAS,CAACS,CAAD,CAAT,CAAaJ,IAAb,GAAoBT,MAAM,CAACQ,OAAP,CAAeC,IAA7C;AACAL,QAAAA,SAAS,CAACS,CAAD,CAAT,GAAe,EAAC,GAAGT,SAAS,CAACS,CAAD,CAAb;AAAkBJ,UAAAA,IAAI,EAAGQ;AAAzB,SAAf;AACH,OAHD,MAGK;AACDb,QAAAA,SAAS,CAACG,IAAV,CAAeP,MAAM,CAACQ,OAAtB;AACH;;AACD,aAAO;AACHZ,QAAAA,QAAQ,EAAEK,QADP;AAEHJ,QAAAA,WAAW,EAAEO;AAFV,OAAP;;AAIJ,SAAKV,WAAW,CAACwB,gBAAjB;AACI;AACA,YAAMC,CAAC,GAAGf,SAAS,CAACU,SAAV,CAAoBC,EAAE,IAAIA,EAAE,CAACC,EAAH,KAAUhB,MAAM,CAACQ,OAAP,CAAeQ,EAAnD,CAAV,CAFJ,CAGI;;AACA,UAAIG,CAAC,GAAG,CAAC,CAAT,EAAY;AACR,cAAMC,CAAC,GAAGhB,SAAS,CAACe,CAAD,CAAT,CAAaV,IAAb,GAAoBT,MAAM,CAACQ,OAAP,CAAeC,IAA7C;AACAL,QAAAA,SAAS,CAACe,CAAD,CAAT,GAAe,EAAC,GAAGf,SAAS,CAACe,CAAD,CAAb;AAAkBV,UAAAA,IAAI,EAAGW,CAAC,GAAG,CAAJ,GAAO,CAAP,GAAUA;AAAnC,SAAf;AACH,OAHD,MAGK;AACDhB,QAAAA,SAAS,CAACG,IAAV,CAAeP,MAAM,CAACQ,OAAtB;AACH;;AACD,aAAO;AACHZ,QAAAA,QAAQ,EAAEK,QADP;AAEHJ,QAAAA,WAAW,EAAEO;AAFV,OAAP;;AAIJ;AACI,aAAOL,KAAP;AAtCR;AAwCH,CA5CD;;AA+CA,eAAeD,OAAf","sourcesContent":["/**\n * @author [Alex Neo]\n * @email [alex.neo0115@gmail.com]\n * @create date 2022-01-12 18:08:03\n * @modify date 2022-01-12 18:08:03\n * @desc [create reducer]\n*/\n\nimport { actionTypes } from \"../action/index\"\n\n\nconst initState = {\n    todoMenu: [],\n    counterList: []\n}\n\n\nconst reducer = (state = initState, action) => {\n    const tempTodo = state.todoMenu.map(list => list);\n    const tempCount = state.counterList.map(list => list);\n\n    switch (action.type){\n        case actionTypes.ADD_MENU_ITEMS:\n            tempTodo.push(action.payload);\n            tempCount.push({data: 0});\n            return {\n                todoMenu: tempTodo,\n                counterList: tempCount\n            };\n        case actionTypes.INCREASE_COUNTER:\n            //get current index\n            console.log(\"increase\", tempCount);\n            const i = tempCount.findIndex(el => el.id === action.payload);\n            //update array if exist else add\n            if (i > -1) {\n                const j = tempCount[i].data + action.payload.data\n                tempCount[i] = {...tempCount[i], data : j} \n            }else{\n                tempCount.push(action.payload);\n            } \n            return {\n                todoMenu: tempTodo,\n                counterList: tempCount,\n            };\n        case actionTypes.DECREASE_COUNTER:\n            //get current index\n            const x = tempCount.findIndex(el => el.id === action.payload.id);\n            //update array if exist else add\n            if (x > -1) {\n                const y = tempCount[x].data - action.payload.data\n                tempCount[x] = {...tempCount[x], data : y < 0? 0: y} \n            }else{\n                tempCount.push(action.payload);\n            } \n            return {\n                todoMenu: tempTodo,\n                counterList: tempCount,\n            };\n        default:\n            return state;\n    }\n}\n\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}